<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml"> <head lang="en-us"> <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> <meta name="viewport" content="width=device-width,initial-scale=0.9,maximum-scale=0.9"> <meta name="description" content="Cross-group secret sharing scheme"> <meta name="generator" content="Hugo 0.18.1"> <title>API Reference &mdash; Cross-group secret sharing scheme</title> <link rel="stylesheet" href="https://itslab-kyushu.github.io/cgss/css/alabaster.css"> <link rel="stylesheet" href="https://itslab-kyushu.github.io/cgss/css/highlight.css"> <link rel="shortcut icon" href="https://itslab-kyushu.github.io/cgss/favicon.ico" type="image/x-icon"> </head> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-4734862314145555",enable_page_level_ads:!0})</script> <body role="document"> <div class="document"> <div class="documentwrapper"> <div class="bodywrapper"> <div class="body" role="main"> <h1>API Reference</h1> <p><a href="https://godoc.org/github.com/itslab-kyushu/cgss/cgss"><img src="https://godoc.org/github.com/itslab-kyushu/cgss/cgss?status.svg" alt="GoDoc"></a></p> <h2 id="summary">Summary</h2> <p>Package <code>github.com/itslab-kyushu/cgss/cgss</code> provides Distribute and Reconstruct functions, which creates a set of shares from a given secret and reconstruct the secret from a subset of the shares, respectively.</p> <h2 id="installation">Installation</h2> <pre><code class="language-sh">$ go get -d github.com/itslab-kyushu/cgss
</code></pre> <h2 id="distribute-a-secret">Distribute a secret</h2> <p>In cross-group secret sharing scheme, shares are divided into groups, and you can choose how many shares are assigned in each group. We call the assignment as share <em>allocation</em>. Type <a href="https://godoc.org/github.com/itslab-kyushu/cgss/cgss#Allocation"><code>Allocation</code></a>, which is a list of integers, is used to define a share allocation. For example, <code>Allocation{3, 3, 2}</code> means three shares are assigned to the first and second groups and two shares are assigned to the third group.</p> <p><a href="https://godoc.org/github.com/itslab-kyushu/cgss/cgss#Distribute"><code>Distribute</code></a> function, which computes shares from a secret, takes an allocation, a group threshold, and a data threshold in addition to the secret. The group threshold <em>l</em> constrains shares must be gathered from at least <em>l</em> groups and the data threshold <em>k</em> constrains at least <em>k</em> share must be gathered in order to reconstruct the secret.</p> <p>The Distribute function also takes chunk size parameter. Bigger secrets will be divided based on the size before they are distributed. Smaller chunk size may cause of overhead to handle fragments but bigger chunk size may cause of huge computation to find prime numbers used in the secret sharing process. We use 8 for all evaluations.</p> <h3 id="example">Example</h3> <p>The following example assumes three groups and assigns two shares to each of them, and the group and data thresholds are set to 2 and 3, respectively. It means, to reconstruct the secret, at least three shares must be collected from at least 2 groups.</p> <p>Since the chunk size is set to 8bytes, the secret will be divided every 8bytes and each chunk will be converted to a set of shares.</p> <p>From the share assignment, the distribute function makes totally 6 shares, and it thus returns a slice of shares of which the length is 6. Note that the returned shares do not have any information about groups but the order of them are associated with the given allocation. More precisely, shares[0] and shares[1] are for the group 1, shares[2] and shares[3] are for the group 2, and shares[4] and shares[5] are for the group 3 in this example.</p> <pre><code class="language-go">secret := []byte(`abcdefgaerogih:weori:ih:opih:oeijhg@roeinv;dlkjh:
	roihg:3pw9bdlnbmxznd:lah:orsihg:operinbk:sldfj:aporinb`)

ctx := context.Background()
shares, err := Distribute(ctx, secret, &amp;DistributeOpt{
	ChunkSize:      8,
	Allocation:     Allocation{2, 2, 2},
	GroupThreshold: 2,
	DataThreshold:  3,
}, nil)
if err != nil {
	log.Fatal(err.Error())
}
</code></pre> <h2 id="reconstruct-a-secret">Reconstruct a secret</h2> <p><a href="https://godoc.org/github.com/itslab-kyushu/cgss/cgss#Reconstruct"><code>Reconstruct</code></a> function takes a set of shares and returns the secret in byte slice. The given shares must satisfy the group and data constraints set to distribute the secret. If the number of groups and/or the number of shares are not enough, the result will be a list of meaningless bytes.</p> <h3 id="example-1">Example</h3> <p>The following example reconstructs the secret from a subset of distributed shares made in the above example. Since the group threshold and data threshold are 2 and 3, respectively, we use two shares from group 1 and one share from group 2, i.e. three shares from two groups, to reconstruct the secret.</p> <pre><code class="language-go">// Pick up two shares from group 1 and one share from group 2.
subset := []Share{shares[0], shares[1], shares[2]}
res, err := Reconstruct(ctx, subset, nil)
if err != nil {
  log.Fatal(err.Error())
}
fmt.Println(string(res))
</code></pre> <h2 id="marshal-unmarshal-shares">Marshal/Unmarshal shares</h2> <p>All components of a share implement <a href="https://golang.org/pkg/encoding/json/#Marshaler">Marshaler</a> interface so that it can be marshaled and unmarshaled to/from a JSON document.</p> <pre><code class="language-go">// share is a share object.
bytes, err := json.Marshal(share)
if err != nil {
  log.Fatal(err.Error())
}

var res Share
if err = json.Unmarshal(bytes, &amp;res); err != nil {
  log.Error(err.Error())
}
</code></pre> <div> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4734862314145555" data-ad-slot="6733697427" data-ad-format="auto"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({})</script> </div> </div> </div> </div> <div class="sphinxsidebar" role="navigation" aria-label="main navigation"> <div class="sphinxsidebarwrapper"> <p class="logo"> <a href="https://itslab-kyushu.github.io/cgss/"> <img class="logo" src="https://itslab-kyushu.github.io/cgss/favicon.ico" alt="Logo"> <h1 class="logo logo-name">CGSS</h1> </a> </p> <p class="blurb">Cross-group secret sharing scheme</p> <p> <iframe src="https://ghbtns.com/github-btn.html?user=itslab-kyushu&repo=cgss&type=watch&count=true&size=large" allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe> </p> <h3>Donate</h3> <p> Consider supporting the authors on <a href="https://www.gratipay.com/">Gratipay</a>: <script src="//grtp.co/v1.js" data-gratipay-username="~jkawamoto" data-gratipay-widget="button" async></script> </p> <h3>Navigation</h3> <ul> <li class="toctree-l1"> <a class="reference internal" href="/cgss/">Top</a> </li> <li class="toctree-l1"> <a class="reference internal" href="/cgss/local/">Local mode</a> </li> <li class="toctree-l1"> <a class="reference internal" href="/cgss/remote/">Remote mode</a> </li> <li class="toctree-l1"> <a class="reference internal" href="/cgss/server/">Server application</a> </li> <li class="toctree-l1"> <a class="reference internal" href="/cgss/api/">API Reference</a> </li> <li class="toctree-l1"> <a class="reference internal" href="/cgss/licenses/">Licenses</a> </li> </ul> <hr> <p> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4734862314145555" data-ad-slot="6733697427" data-ad-format="auto"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({})</script> </p> </div> </div> <div class="clearer"></div> </div> <div class="footer"> &copy; 2017 <a href="https://github.com/jkawamoto/">Junpei Kawamoto</a> | Icon by <a href="http://www.clipartkid.com/">Clipart Kid</a> | Powered by <a href="http://gohugo.io/">Hugo 0.18.1</a> &amp; <a href="https://github.com/digitalcraftsman/hugo-alabaster-theme">Alabaster</a> </div> <a href="https://github.com/itslab-kyushu/cgss" class="github"> <img style="position:absolute;top:0;right:0;border:0" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" class="github"> </a> <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script> <script>hljs.initHighlightingOnLoad()</script> <script>!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src="//www.google-analytics.com/analytics.js",s.parentNode.insertBefore(o,s)}(window,document,"script",0,"ga"),ga("create","UA-89247555-1","auto"),ga("send","pageview")</script>  <script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-585b3ef9cae64e1e"></script> </body> </html> 